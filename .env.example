# HuggingFace API Configuration
HF_TOKEN=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

# Model Configuration
SENTIMENT_MODEL=cardiffnlp/twitter-xlm-roberta-base-sentiment
TOXICITY_MODEL=textdetox/xlmr-large-toxicity-classifier

# Mode switches
DEMO_MODE=False
DEMO_CACHE_ENABLED=True
DEMO_PROFILE=demo_v1
DEMO_POLLUTE_CSM=False
DEFAULT_RUN_MODE=normal

# API Settings
BATCH_SIZE=16
RATE_LIMIT_SLEEP=0.4
API_TIMEOUT=30
MAX_RETRIES=3

# Cache Settings
CACHE_TTL_DAYS=7
CACHE_DIR=.cache

# Privacy Settings
SEND_RAW_TEXT_TO_HF=True
PSEUDONYMIZE_NAMES=False

# Operational Mode Flags
USE_NLP=True
USE_INSIGHT_AI=False

# Scoring Weights (0-1, should sum to ~1.0)
WARMTH_WEIGHT=0.45
ENGAGEMENT_WEIGHT=0.30
CONFLICT_WEIGHT=0.20
STABILITY_WEIGHT=0.05

# Windowing
DEFAULT_WINDOW_SIZE=100
DEFAULT_TIME_WINDOW_DAYS=7

# ============================================================================
# Contextual Sentiment Memory (CSM) Settings
# ============================================================================

# Enable CSM caching and learning system
CSM_ENABLED=True

# Call HuggingFace API for low-confidence messages
# Set to False to use inference-only mode (saves API costs)
LIVE_HF_ENABLED=False

# Confidence threshold for inference (0.0 - 1.0)
# Below this, HF API is called (if LIVE_HF_ENABLED=True)
CSM_CONFIDENCE_THRESHOLD=0.70

# Variance-aware confidence adjustment
CSM_VAR_CONFIDENCE_WEIGHT=1.0
CSM_VARIANCE_THRESHOLD=0.35

# Enable asynchronous learning (requires Celery + Redis)
CSM_ASYNC_LEARNING=True

# Privacy mode: Store only hashes, not raw text
CSM_PRIVACY_MODE=False

# Redis connection for hot cache
CSM_REDIS_URL=redis://localhost:6379/1
CSM_REDIS_TTL_HOURS=24
CSM_REDIS_SYNC_INTERVAL_HOURS=6

# Database backend for persistence
CSM_DB_PATH=chatrel_csm.db

# Model version tracking (bump to invalidate cache)
CSM_SENTIMENT_MODEL_VERSION=1.0
CSM_TOXICITY_MODEL_VERSION=1.0

# Token stats minimum thresholds
# CSM Config
CSM_ENABLED=true
CSM_MODEL_NAME=distilbert-base-uncased-finetuned-sst-2-english
MAX_HF_CALLS_PER_MIN=60

# Redis & Celery Config
CSM_REDIS_URL=redis://localhost:6379/1
CELERY_BROKER_URL=${CSM_REDIS_URL}
CELERY_RESULT_BACKEND=${CSM_REDIS_URL}
CELERY_BROKER_CONNECTION_TIMEOUT=10
CELERY_BROKER_HEARTBEAT=30
BROKER_POOL_LIMIT=3
BROKER_CONNECTION_RETRY=True
HF_THROTTLE_WINDOW_SECONDS=60

# Decision logging (debug mode)
CSM_DEBUG_DECISIONS=False
